@model InoLibrary.ViewModels.ObservePublicationViewModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_layout";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <title>Просмотр</title>
</head>
<body>

    <div>
        <h4>Карточка публикации</h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Annotation)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Annotation)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.AuthorNickname)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.AuthorNickname)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.PublishingYear)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.PublishingYear)
            </dd>
            <dt>
                <text style="font-weight:700">Рубрики</text>
            </dt>
            <dd>
                @for (int i = 0; i < Model.Categories.Count; i++)
                {
                    <text> @Model.Categories[i]</text>
                    if (i != Model.Categories.Count - 1)
                    {
                        <text>,</text>
                    }
                }
            </dd>
        </dl>
    </div>
    <div>
        @if (Model.UserName == User.Identity.Name)
        {
            <a asp-action="EditPublication" asp-controller="Publications" class="btn btn-sm btn-primary" asp-route-id=@Model.Id>Редактировать</a>
        }
            <a asp-action="DownloadFile" asp-controller="Publications" asp-route-path="@Model.DownloadURL" class="btn btn-sm btn-link">@System.IO.Path.GetFileName(Model.DownloadURL)</a>

    </div>
</body>
</html>
